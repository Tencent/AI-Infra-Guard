<?xml version="1.0" encoding="UTF-8"?>
<tools>
<tool name="dialogue">
  <description>
    Call an AI provider with a prompt to have a dialogue.
    
    This tool loads provider configuration from a YAML/JSON config file,
    then sends the given prompt to the AI provider and returns the response.
    
    Supports various AI providers including:
    - OpenAI and OpenAI-compatible APIs
    - Anthropic Claude
    - Google AI Studio / Vertex AI
    - Azure OpenAI
    - Mistral AI, Groq, Ollama
    - Dify, Coze, and more
  </description>
  <parameters>
    <parameter name="config_file" type="string" required="true">
      Path to the provider configuration file (YAML or JSON format).
      The config file should contain a 'providers' or 'targets' array with provider settings.
    </parameter>
    <parameter name="prompt" type="string" required="true">
      The prompt message to send to the AI provider.
    </parameter>
  </parameters>
  <returns>
    <field name="success" type="boolean">Whether the API call succeeded</field>
    <field name="message" type="string">Status message describing the result</field>
    <field name="suggestions" type="array">Optional suggestions for troubleshooting if failed</field>
    <field name="cached" type="boolean">Whether the response was from cache</field>
    <field name="provider_response" type="object">
      Provider response details containing:
      - raw: Raw response from the provider
      - output: Extracted text output from the response
      - error: Error message if failed
      - session_id: Session/conversation ID for multi-turn dialogs
      - headers: Response headers
      - token_usage: Token usage statistics
      - cost: Estimated API cost
      - metadata: Additional metadata
    </field>
  </returns>
</tool>
</tools>
